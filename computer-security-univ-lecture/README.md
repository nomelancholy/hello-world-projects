# 컴퓨터 보안

## 컴퓨터 보안의 개요

### 컴퓨터 보안의 개념

컴퓨터 보안을 정의하기 위해선 우선 정보보호의 개념을 명확히 할 필요가 있다. 정보는 다양한 매체위에 저장되는데 이를 허락받지 않은 자가 열람, 수정, 훼손하지 못하게 하는 것이 정보 보호의 목적이다. 이 중 컴퓨팅 환경과 관련된 정보보호를 컴퓨터 보안이라고 한다.

### 정보보호의 목표

정보 보호의 핵심 목표는 허락받지 않은 자가 정보를 열람하지 못하게 하는 기밀성, 허락받지 않은 자가 정보를 수정하지 못하게 하는 무결성, 허락된 자가 언제든 원할 때 정보에 접근할 수 있도록 하는 가용성이다. 이외에도 정보에 관여한 자가 그 사실을 부인하지 못하게 하는 부인 방지, 허락된 권한 내의 정보만 접근할 수 있게 하는 접근 제어, 어떤 실체가 정말 주장하는 실체가 맞는지 확인하는 인증 등도 정보 보호의 목표이다.

### 정보화 환경과 역기능

정보화 환경이 넓어짐에 따라 그 역기능도 커지고 있다. 방지하고자 하는 노력도 꾸준히 있지만 그만큼 새로운 수법도 꾸준히 등장하고 있다.

### 컴퓨터 보안의 역사

컴퓨터 보안의 역사는 제2차 세계 대전때까지 거슬러 올라가야 한다. 제 2차 세계 대전 당시 앨런 튜링은 독일군의 암호문 제조기 에니그마를 해독할 수 있는 방법과 기계를 고안하며 컴퓨터의 이론적 개념을 정립했다.

이후 1950년대와 60년대, 메인프레임 형태의 컴퓨터들이 개발되었고 이들이 미국의 주요 대학에 배치되었는데 이 때 이를 세부적인 부분까지 연구하기를 즐겨하던 이들을 해커라고 했다 (악성 해커는 크래커라 함이 옳다.)

이후 미국 국방성에서 서로 다른 지역의 컴퓨터를 연결하기위해 ARPANET을 개발했고 이것이 넓고 복잡해지며 인터넷으로 발전했다. 이후 애플에서 PC를 개발하고 IBM에서 저가형 PC를 내놓았다. 또 인터넷 프로토콜인 TCP/IP도 이 때 등장하며 사람들이 본격적으로 컴퓨터를 사용하기 시작했다. 그리고 크래커들도 본격적으로 등장하기 시작했다.

악의적인 공격은 1980년대 모리스 웜을 시작으로, 네트워크를 통해 은행을 탈취하는 사건도 있었고, DDos, 랜섬웨어 등으로 발전했다. 이에 대응하기 위한 활동과 기법도 꾸준히 나왔고 국내외 적으로 이를 방지하기 위한 법안들도 제정되고 있다.

## 암호의 개념

### 암호의 정의

두 사람이 안전하지 않은 채널을 통하여 정보를 주고받더라도 제 3자는 이 정보의 내용을 알 수 없도록 하는 것을 암호라고 한다. 이 때 두사람 중 메시지를 보내는 사람을 송신자, 받는 사람을 수신자라고 하는데 위와 같이 기능하기 위해선 송신자와 수신자만 내용을 알 수 있어야 한다는 말이므로 이는 곧 메시지 자체의 변환이 필요하다는 말과 같다. 이 때 원래 메시지를 평문이라고 하고, 변환된 메시지를 암호문이라고 하며 평문을 암호문으로 만드는 것을 암호화, 암호문을 평문으로 만드는 것을 복호화라고 한다. 이 때 두사람이 공유하는 암호화/복호화 방법을 암호화 알고리즘 또는 키라고 한다.

### 암호의 역사

#### 고대 암호

- 스테가노 그래피 : BC 480년에 사용된, 메시지를 나무판에 조각 후 밀랍을 발라 정보 자체를 숨겨 전송한 방법

- 전치법 : 평문에 있는 문자들의 순서를 바꿈으로써 암호화한 기법

  - 스파르타의 봉 암호

- 치환법 : 평문 문자들을 다른 문자로 치환함으로써 암호화 한 기법

  - 시저 암호

#### 근대 암호

- 비즈네르 암호 : 시프트 암호를 개선한 새로운 치환법. 시프트 암호와는 달리 여러 개의 정수값을 키로 이용한다.

- 플레이페어 암호

- 힐 암호

- 일회성 암호 체계 : 암호체계 설계의 두 가지 기본 원칙인 혼돈과 확산 이론 제시

  - 혼돈 : 평문과 암호문 사이의 상관관계를 숨김

  - 확산 : 평문의 통계적 성격을 암호문 전반에 확산시켜 숨김

#### 현대 암호

- DES(Data Encryption Standard) : 1977년 미국 NBS(현재는 NTS)에서 공표한 표준 암호 알고리즘. 대칭키 암호이다.

- AES(Advanced Enctyptions Standard) : 2001년 새로 공표된 표준 암호 알고리즘. 역시 대칭키 암호이다.

- 공개키 암호 알고리즘

  - 1976년 디피와 핼먼이 개념을 제시

  - 1978년 리베스트, 샤미르, 애들먼이 소인수분해 문제에 기반을 둔 RSA 공개키 암호 알고리즘 개발

### 대칭키 암호의 개념

- 암호화와 복호화에 같은 키 하나를 사용하는 암호 방식

- 암호화와 복호화 속도가 빠르다

- 비밀키를 제 3자에게 노출하지 않으면서 송신자와 수신자가 나누어 가지기 어렵다

- 분류

  - 블록 암호 : 암호문을 만들기 위해 평문을 고정된 크기의 블록으로 나누어서 각 블록마다 암호화 과정을 수행하여 블록 단위로 암호문을 얻는 대칭키 암호 방식

  - 스트림 암호 : 평문과 같은 길이의 키 스트림을 생성하여 평문과 키를 비트 단위로 XOR하여 암호문을 얻는 대칭키 암호 방식

- 알고리즘

  - DES

  - AES

### 공개키 암호의 개념

- 암호화와 복호화에 두 개의 서로 다른 키를 사용하는 암호 방식. 두 개의 키 중 공개하며 암호화에 사용하는 키를 공개키, 공개하지 않으며 복호화에 사용하는 키를 개인키라고 한다.

- 키 관리가 쉽고 키 분배 문제도 해결

- 속도가 느리다.

- 알고리즘

  - RSA

  - 타원곡선 암호 알고리즘

## 인증

### 인증의 개념

어떤 실체가 정말 그 실체가 맞는지 확인하는 과정. 실체의 대상은 메시지, 사용자, 출처, 장치 등이 될 수 있다.

### 메시지 인증

수신된 메시지가 전송 도중 변경되지 않았는지에 대한 인증. 즉 메시지에 대한 무결성 확인

- 방법

  - MAC (Message Authentication Code)

    - 송신자는 메시지와 송수신자만 알고 있는 비밀키를 MAC 알고리즘에 집어 넣어 MAC을 만들고 이를 메시지와 함께 전송한다.

    - 수신자도 메시지를 받을 후 메시지와 비밀키를 MAC 알고리즘에 넣어 MAC을 만들고 이를 전송된 MAC과 비교하여 무결성 침해 여부를 판별한다.

    - 이 때 비밀키는 메시지에 덧붙여 전송해야 하므르 메시지 크기와는 독립적이면서 작은 크기인 게 좋다.

- 알고리즘

  - HMAC (Hash-based MAC) : 해시함수에 기반을 둠

  - CMAC (Cipher-based MAC): 블록 암호에 기반을 둠

### 사용자 인증

서버, PC, 스마트폰, 건물의 전자식 잠금장치 등의 시스템에 접근하려는 사용자가 정말 그 사용자가 맞는지 확인하는 과정

- 비밀번호 방식

  - 가장 일반적인 사용자 인증 방식

  - 입력하는 비밀번호가 시스템에 저장된 정보와 일치하는지 여부로 인증

  - 이 때 시스템에 저장된 비밀번호가 유출되는 경우를 방지하기 위해 비밀번호는 해시코드로 저장하는 방법을 이용한다.

- 생체인식 방식

  - 지문, 홍채, 음성, 손등의 혈관 등 개개인의 공유한 정보인 특정 생체정보를 이용하는 사용자 인증

- 토큰 방식

  - 사용자가 소유하고 있는 특정 정보를 이용하여 해당 사용자를 인증하는 방식

  - USB 토큰, 스마트카드, 실물 키 등이 있다

- 2단계 인증

  - 비밀번호만을 이용하여 사용자 인증을 할 경우 발생할 수 있는 문제를 방지하기 위해 2단계 인증을 이용

  - 첫번째 단계로 비밀번호를 이용하고, 두번째 단계로 토큰을 이용하여 사용자 인증을 한다.

## 사이버 공격

### 사이버 공격 개요

다른 컴퓨터에 불법 접속하여 국가나 기업, 개인에 손상을 입히려는 행동이다. 과거에는 네트워크나 로컬 호스트 상에서의 잘못된 설정을 이용해 관리자 권한을 얻는 초보적 방식이 대다수 였지만 최근에는 기술의 발전에 따라 네트워크 상의 패킷을 조작하거나 상용 웹사이트의 취약점을 이용하는 등 사이버 공격의 방식도 다양해지고 있다.

### 다양한 사이버 공격

- 악성코드(Malicious Code, Malware)

  - 컴퓨터에 악영향을 끼칠 수 있는 모든 소프트웨어의 총칭

    - 바이러스

      - 시스템이나 사용자의 파일에 자신을 복제하고 그 컴퓨터 시스템 내에서 증식하거나 시스템을 파괴하는 악성 코드

      - 자기 복제

      - 저수준 언어 사용

      - 다양한 변종 발생

      - 지능화 및 악성화

      - 동작 원리

        1. 바이러스에 감영된 프로그램을 사용자가 실행하면 바이러스 활동이 시작된다.

        2. 실행된 바이러스는 자신을 감영시킬 대상 파일을 찾는다.

        3. 이미 감염된 파일인지 확인하여 감염된 파일이 아니라면 감염시킬 파일의 앞 혹은 뒷부분에 자신의 코드를 삽입하여 감염시킨다.

        4. 감염과정을 감추기 위해 바이러스로서의 코드 실행이 끝나면 원래 프로그램이 수행해야 할 작업을 수행한다.

        5. 메모리에 있는 컴퓨터 바이러스는 다른 파일에 대한 감염을 계속 수행한다.

    - 웜

      - 컴퓨터의 취약점을 찾아 네트웨크를 통해 스스로 감염되는 악성 코드

      - 네트워크를 경유하여 자기 복제 능력을 통한 빠른 전파력을 가지고 있어 감염된 시스템을 거점으로 피해시스템이 기하급수적으로 증가함.

      - 대표 사례

        - 98년 sendmail의 보안 취약점을 이용한 인터넷 웜

        - 99년 12월에 발생한 밀레니엄 인터넷 웜

    - 트로이 목마

      - 정상적인 기능을 하는 프로그램으로 가장하여 프로그램 내에 숨어서 의도하지 않은 기능을 수행하는 악성코드

    - 백도어

      - 공격자가 시스템에 침입한 후, 이후에는 손쉽게 피해 시스템에 대한 접근권한을 획득하기 위한 용도로 설치한 악성 코드

    - 스파이웨어

      - 다른 사람의 컴퓨터에 설치되어 개인정보를 빼가는 악성코드

      - 사용자가 특정 웹 페이지에 접속하거나 소프트웨어를 임의로 설치할 때 함께 설치되는 경우가 많음

    - 랜섬웨어

      - 사용자의 중요한 정보를 인질로 삼아 금전을 요구하는 악성코드

  - 시스템 손상, 전파, 정보 유출 등 다양한 목적

  - 대부분 무분별한 인터넷 사용으로 인해 감염

  - 예방 방법

    - 의심스러운 웹사이트 방문 자제

    - 수상한 이메일 확인 자제

    - 메신저로 오는 인터넷 주소나 첨부파일 함부로 열지 않기

    - 보안 등급 설정

    - 통합 보안 프로그램 설치 및 유지, 실시간 감지 기능 사용

- 네트워크 공격

  - 스캐닝

    - 네트워크에 대한 취약점을 발견해 내기 위한 행위인 스캐닝은 순수한 의미로 실행될 때는 공격으로 보기 어려우나 악의적으로 행해질 때는 공격을 위한 사전 벙보 수집 활동으로 볼 수 있다.

    - 도구로는 Nmap, Acunetix, mscan, sscan 등이 있다.

  - 스푸핑

    - 공격자가 공격자의 제어 하에 있는 호스트를 피해 호스트가 신뢰하는 호스트로 가장함으로 써 피해 호스트로부터 생성되는 정보를 수집하거나 가로채는 방식의 공격

    - IP 스푸핑, DNS 스푸핑, web 스푸핑, ARP 스푸핑 등이 있다.

  - 스니핑

    - 네트워크 상의 데이터를 도청하는 행위

    - Passive 스니핑

      - 무차별 모드 (promiscuous mode)를 이용하여 패킷 내의 정보를 조작 없이 단순히 도청

    - Active 스니핑

      - 공격 대상자들의 패킷 방향을 조작하여 내용을 훔쳐보거나 변조하는 방식으로 ARP 스푸핑을 이용

  - 서비스 거부 (DoS, Denial of Service) 공격

    - 특정 서비스나 자원의 가용성을 떨어트리는 결과를 초래하는 유형의 공격에 대한 통칭

    - 대량의 데이터를 전송하거나 무수히 많은 네트워크 연결을 요청하는 등의 방법 이용

    - SYN flooding 공격

      - 반열림 (half-open) TCP 연결들을 생섬함으로써 (HandShake 과정에서 최정 Ack을 반환하지 않음) 시스템을 서비스 거부 상태로 만드는 공격

  - 분산 서비스 거부 공격 (DDoS, Distributed Denial of Service, 디도스)

    - 여러 대의 공격자를 분산적으로 배치해 동시에 서비스 거부 공격을 하는 방법

- 스팸메일

  - 불특정 다수를 대상으로 일방적, 대량으로 전달되는 메일

  - 광고, 홍보, 비방 등의 목적으로 이용

  - 탐지

    - DNS 이용 : 송신자의 이메일 주소 도메인의 진위 확인. 정확도가 뛰어나지만 DNS 변경과 이메일 송수신 절차 변경 필요

    - 통계 기법 이용 : 스팸에 자주 포함되는 단어와 정상 메일에 자주 포함되는 단어를 분류해 스팸 메일을 탐지

- 피싱 (Phishing)

  - 유명한 금융기관이나 공신력 있는 업체의 이름을 사칭하여 수신자들이 믿도록 하고 개인정보나 금융정보를 얻어내 범죄수단으로 악용하는 행위

  - 진화

    - Pharming : PC 도메인 정보를 조작

    - vishing : VoIP를 이용

    - smshing : SMS를 이용하는 스미싱 공격

### 최근의 사이버 공격 방식

- 효율적인 공격을 위해 에이전트화, 분산화, 자동화, 은닉화가 상호 의존적으로 발전. DDoS 공격이 대표적

- 최근에는 다양한 공격 기술을 이용해 APT(Advanced Persistent Threat - 특정 대상을 목표로 은밀하게 지속적으로 위협) 활용

## 서버 보안

### 서버 보안의 개요

- 일반적인 정보 시스템

  - 서버 : 서비스를 제공하는 컴퓨터
  - 클라이언트 : 서버에 접근하여 서비스를 제공받는 컴퓨터
  - 통신 채널 : 인터넷

- 인터넷을 통한 공격에 대한 방어 지점

  - 응용 프로그램 계층 : 서버 프로그램은 백도어나 버그 같은 취약성을 가지고 있을 수 있고 이러한 보안 취약성을 이용하여 운영체제에 대한 접근 권한을 획득하는 공격이 있을 수 있다.

  - 운영체제 계층 : 실제 시스템의 접근에 대한 결정이 이루어지고 컴퓨터의 모든 행위를 관장하기 때문에 운영체제는 보안의 가장 근본적인 레벨이다. 따라서 이 운영체제의 제어권을 확보하려는 공격이 있을 수 있다.

  - 네트워크 제어 : 서비스 거부 공격등이 있을 수 있기에 시스템의 인/아웃 트래픽을 제어함으로써 잠재적으로 유해한 네트워크 트래픽을 줄일 수 있다.

  - 전송 데이터 제어 : 인터넷을 통하여 전송되는 정보는 누구나 열람할 수 있기에 기밀이 필요한 데이터는 절도를 방지하기 위해 암호화하여 전송한 뒤 수신자가 복호화 하여 확인하는 것이 가장 바람직하다.

### 서버의 침입 및 정보유출 단계

- 정보 획득 단계 : 공격 대상 시스템 결정하고 시스템의 정보 획득을 위해 포트 스캔 등을 통해 시스템에 대한 정보를 획득함

- 권한 획득 단계 : 획득한 정보를 이용해서 취약성을 찾은 후 해당 서버의 일반 사용자 권한을 이용해 관리자 권한을 획득함

- 공격 단계 : 관리자 권한을 이용해 침입 흔적을 지우고 백도어 등의 악성 코드를 설치함

- 재침입 단계 : 재침입하여 유용한 정보를 획득하거나 비권한 행위를 수행하거나 공격한 호스트를 이용해 다른 시스템을 공격함

### 서버 공격 유형

서버 공격은 정보 시스템의 결함으로 생기는 보안 허점을 활용한다 유형은 다음과 같다.

- 계정 크랙 공격

  - 무차별 공격 (Brute Force Attack) : 시스템 또는 서비스의 ID, PW를 자동 조합하여 크랙하는 공격

  - 사전 공격 (Dictionary Attack) : ID와 패스워드가 될 가능성이 있는 단어를 사전 파일로 만들어 놓고 사전 파일의 단어를 대입하여 크랙하는 공격

- 네트워크 공격 : 스푸핑, 스니핑, 서비스 거부 공격 등

- 시스템 취약점을 이용한 공격

  - 버퍼 오버 플로 (Buffer Overflow) 공격

    - 버퍼 : 프로그램 처리 과정에 필요한 데이터가 일시적으로 저장되는 공간

    - 메모리에 할당된 버퍼의 양을 초과하는 데이터를 입력하여 프로그램의 복귀주소를 조작함으로써 공격자가 원하는 코드를 실행하는 것

    - 스택 오버 플로 공격

      - 서브루틴(프로시져)이 프로그램에 의해 호출될 때, 함수 변수와 서브루틴의 복귀 주소 포인터를 스택에 저장

      - 만약 프로그램이 변수의 할당된 공간에 저장될 데이터의 크기를 검사하지 않고, 크기에 제한을 두지 않는다면 데이터의 길이와 내요을 적절히 좆어하여 변수 공간을 넘치게 공격할 수 있음

      - 오버플로가 발생하면 저장된 데이터는 인접한 변수영역뿐만 아니라 포인터 영역까지 침범하므로 공격자가 원하는 특정 코드가 실행되게 할 수 있음

    - 힙 오버 플로 공격

      - 프로그램이 실행하면서 메모리를 동적으로 할당해서 사용하는 영역

      - 프로그래머가 malloc 같은 메모리 할당 함수를 이용하여 프로그램을 사용할 때 할당

      - 힙 영역을 오버플로 시켜서 특정 코드를 실행하여 공격하는 기술

  - 레이스 컨디션 (Race Condition) 공격

    - 두 프로세스가 동일한 자원을 사용하기 위해 경쟁하는 것을 이용한 공격

    - 시스템 프로그램과 공격 프로그램이 경쟁 상태에 이르게 하여 시스템 프로그램이 갖는 권한으로 파일에 접근 간으하게 하는 방법

  - 기본 설정 오류를 이용한 공격

    - 시스템을 활용하기 위한 다양한 설정 중 잘솜된 설정에 대한 공격

    - 공유 폴더 및 관리자 암호를 취약한 암호로 설정하거나 IIS 웹 서버 설정에서 쓰기 권한을 부여한 경우 등

- 사회 공학적 공격

  - 사람을 속여서 민감한 정보를 유출하게 하는 기술

  - 내부자의 결탁 혹은 부주의로 인한 정보 습득

### 서버 보안 대책

- 계정과 패스워드 보호

  - 계정 관리

    - 사용자별 또는 그룹별 접근권한 부여

    - 불필요한 사용자 계정 삭제

    - 루트 권한에 대한 사용 제한

    - 새로운 사용자 추가 시 일관성 있는 정책 유지

  - 패스워드 관리

    - 유추 가능한 단어를 패스워드로 사용하지 않기

    - 문자, 숫자, 특수문자를 조합하여 사용

    - 패스워드 길이, 사용기간 등의 정책 강화

    - Shadow 패스워드 사용

- 파일 시스템 보호

  - 파일 접근 권한 관리

  - 파일 암호화

  - 파일 시스템 백업 및 복수

  - 무결성 점검 도구를 이용한 파일 시스템의 위변조 검사

- 시스템 파일 설정과 관리

  - UNIX 계열

    - mount 테이블을 이용한 파일 시스템 관리

    - TCP-wrapper, xinetd 등을 이용한 호스트 접근 제어 관리

    - telnet 대신 ssh 사용 등

  - WINDOW 계열

    - NTFS에 대한 사용 권한 설정

    - 레지스트리 원격 액세스 권한 제한 및 레지스트리 백업

- 시스템 접근제어 기술

  - 접근 제어 목록 (ACL) 설정

  - 접근제어 정책

    - 임의적 접근제어 (DAC) : 개별 소유자의 자율적 판단에 따라 자원의 접근권한을 다른 사용자에게 부여

    - 강제적 접근제어 (MAC) : 객체에는 비밀등급을, 사용자에게는 허가등급을 부여하여 사용자가 객체에 접근할 때마다 사전에 규정된 규칙과 비교하여 그 규칙을 만족하는 주체에게만 권한 부여

    - 역할기반 접근제어 (RBAC) : 권한은 역할과 관계가 있음

  - UNIX 계열의 접근제어 명령어 - chmod, chown

- 운영체제 설치

  - 작업용도에 따른 시스템 파티션 분리

  - 불필요한 서비스 중지 및 프로그램 제거

- 시스템 최적화

  - 메모리, 프로세스, CPU 같은 자원 관리의 최적화

  - 최소 권한의 프로세스 수행

- 시스템 로그 설정과 관리

  - UNIX 계열 : syslog를 통하여 시스템 로그 설정

  - WINDOW : 이벤트 뷰어를 통해 시스템 로그, 응용 프로그램 로그, 보안 로그 등 관리

  - 로그 파일을 분석하여 비정상적인 시간대의 접근, 실패한 로그인, 의심스러운 su 명령 등 확인

- 서버 관리자의 의무

  - 시스템의 시작과 종료, 재시작 상황 이해

  - 사용자 계정 관리 방법 이해

  - 프로세스, 메모리, 디스크 등 자원 관리 방법 이해

  - 네트워크 연결 관리 및 상태 관리 방법 이해

## 네트워크 보안

## 보안 시스템

## 메일 보안

## 웹 보안

## 모바일 보안

## 디지털 포렌식

## 대칭키 암호

## 공개키 암호

## 해시함수 및 전자서명

## 공개키 기반 구조
